
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>ws.db.execution module &#8212; wiki-scripts 1.2 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/wiki-scripts.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ws.db.mw_constants module" href="ws.db.mw_constants.html" />
    <link rel="prev" title="ws.db.database module" href="ws.db.database.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-ws.db.execution">
<span id="ws-db-execution-module"></span><h1>ws.db.execution module<a class="headerlink" href="#module-ws.db.execution" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="ws.db.execution.DeferrableExecutionQueue">
<em class="property">class </em><code class="descclassname">ws.db.execution.</code><code class="descname">DeferrableExecutionQueue</code><span class="sig-paren">(</span><em>conn</em>, <em>chunk_size</em><span class="sig-paren">)</span><a class="headerlink" href="#ws.db.execution.DeferrableExecutionQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>An execution wrapper which defers the execution of statements until the
queue is full.</p>
<p>This is useful to aggregate the values from Python generators to utilize
the <em>executemany</em> execution strategy.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If multiple different statements are being deferred, their queues are
executed in the same order they were added, so statements from the
second queue can depend on the statements from the first queue and so
on. As soon as the size of any queue reaches the size limit, all queues
are executed - otherwise the queues may get out of sync and execution
may hit constraint errors.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>conn</strong> (<a class="reference external" href="http://docs.sqlalchemy.org/en/latest/core/connections.html#sqlalchemy.engine.Connection" title="(in SQLAlchemy v1.2)"><em>sqlalchemy.engine.Connection</em></a>) – a connection (with an established transaction) to the database where the
statements are executed</li>
<li><strong>chunk_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – maximum queue size</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ws.db.execution.DeferrableExecutionQueue.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>statement</em>, <em>*multiparams</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#ws.db.execution.DeferrableExecutionQueue.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a statement into the execution queue.</p>
<p>The semantics of the parameters is the same as of
<a class="reference external" href="http://docs.sqlalchemy.org/en/latest/core/connections.html#sqlalchemy.engine.Connection.execute" title="(in SQLAlchemy v1.2)"><code class="xref py py-meth docutils literal"><span class="pre">sqlalchemy.engine.Connection.execute()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="ws.db.execution.DeferrableExecutionQueue.execute_deferred">
<code class="descname">execute_deferred</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ws.db.execution.DeferrableExecutionQueue.execute_deferred" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute all deferred statements and clear the queue.</p>
</dd></dl>

<dl class="method">
<dt id="ws.db.execution.DeferrableExecutionQueue.__enter__">
<code class="descname">__enter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ws.db.execution.DeferrableExecutionQueue.__enter__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ws.db.execution.DeferrableExecutionQueue.__exit__">
<code class="descname">__exit__</code><span class="sig-paren">(</span><em>exc_type</em>, <em>exc_val</em>, <em>exc_tb</em><span class="sig-paren">)</span><a class="headerlink" href="#ws.db.execution.DeferrableExecutionQueue.__exit__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/wiki-scripts.png" alt="Logo"/>
            </a></p><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../modules.html">API reference</a><ul>
  <li><a href="ws.html">ws package</a><ul>
  <li><a href="ws.db.html">ws.db package</a><ul>
      <li>Previous: <a href="ws.db.database.html" title="previous chapter">ws.db.database module</a></li>
      <li>Next: <a href="ws.db.mw_constants.html" title="next chapter">ws.db.mw_constants module</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/ws/ws.db.execution.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014-2016, Jakub Klinkovský.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/ws/ws.db.execution.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/lahwaacz/wiki-scripts" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>