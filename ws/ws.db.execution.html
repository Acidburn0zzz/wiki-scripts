
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>ws.db.execution module &#8212; wiki-scripts 1.2 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/wiki-scripts.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ws.db.mw_constants module" href="ws.db.mw_constants.html" />
    <link rel="prev" title="ws.db.database module" href="ws.db.database.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-ws.db.execution">
<span id="ws-db-execution-module"></span><h1>ws.db.execution module<a class="headerlink" href="#module-ws.db.execution" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="ws.db.execution.DeferrableExecutionQueue">
<em class="property">class </em><code class="sig-prename descclassname">ws.db.execution.</code><code class="sig-name descname">DeferrableExecutionQueue</code><span class="sig-paren">(</span><em class="sig-param">conn</em>, <em class="sig-param">chunk_size</em><span class="sig-paren">)</span><a class="headerlink" href="#ws.db.execution.DeferrableExecutionQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>An execution wrapper which defers the execution of statements until the
queue is full.</p>
<p>This is useful to aggregate the values from Python generators to utilize
the <em>executemany</em> execution strategy.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If multiple different statements are being deferred, their queues are
executed in the same order they were added, so statements from the
second queue can depend on the statements from the first queue and so
on. As soon as the size of any queue reaches the size limit, all queues
are executed - otherwise the queues may get out of sync and execution
may hit constraint errors.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>conn</strong> (<a class="reference external" href="https://docs.sqlalchemy.org/en/13/core/connections.html#sqlalchemy.engine.Connection" title="(in SQLAlchemy v1.3)"><em>sqlalchemy.engine.Connection</em></a>) – a connection (with an established transaction) to the database where the
statements are executed</p></li>
<li><p><strong>chunk_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – maximum queue size</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="ws.db.execution.DeferrableExecutionQueue.execute">
<code class="sig-name descname">execute</code><span class="sig-paren">(</span><em class="sig-param">statement</em>, <em class="sig-param">*multiparams</em>, <em class="sig-param">**params</em><span class="sig-paren">)</span><a class="headerlink" href="#ws.db.execution.DeferrableExecutionQueue.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a statement into the execution queue.</p>
<p>The semantics of the parameters is the same as of
<a class="reference external" href="https://docs.sqlalchemy.org/en/13/core/connections.html#sqlalchemy.engine.Connection.execute" title="(in SQLAlchemy v1.3)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sqlalchemy.engine.Connection.execute()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="ws.db.execution.DeferrableExecutionQueue.execute_deferred">
<code class="sig-name descname">execute_deferred</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ws.db.execution.DeferrableExecutionQueue.execute_deferred" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute all deferred statements and clear the queue.</p>
</dd></dl>

<dl class="method">
<dt id="ws.db.execution.DeferrableExecutionQueue.__enter__">
<code class="sig-name descname">__enter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ws.db.execution.DeferrableExecutionQueue.__enter__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ws.db.execution.DeferrableExecutionQueue.__exit__">
<code class="sig-name descname">__exit__</code><span class="sig-paren">(</span><em class="sig-param">exc_type</em>, <em class="sig-param">exc_val</em>, <em class="sig-param">exc_tb</em><span class="sig-paren">)</span><a class="headerlink" href="#ws.db.execution.DeferrableExecutionQueue.__exit__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/wiki-scripts.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../index.html">wiki-scripts</a></h1>










<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Writing new scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../modules.html">API reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="ws.html">ws package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="ws.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ws.ArchWiki.html">ws.ArchWiki package</a></li>
<li class="toctree-l4"><a class="reference internal" href="ws.cache.html">ws.cache package</a></li>
<li class="toctree-l4"><a class="reference internal" href="ws.client.html">ws.client package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="ws.db.html">ws.db package</a></li>
<li class="toctree-l4"><a class="reference internal" href="ws.interlanguage.html">ws.interlanguage package</a></li>
<li class="toctree-l4"><a class="reference internal" href="ws.parser_helpers.html">ws.parser_helpers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="ws.utils.html">ws.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ws.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../modules.html">API reference</a><ul>
  <li><a href="ws.html">ws package</a><ul>
  <li><a href="ws.db.html">ws.db package</a><ul>
      <li>Previous: <a href="ws.db.database.html" title="previous chapter">ws.db.database module</a></li>
      <li>Next: <a href="ws.db.mw_constants.html" title="next chapter">ws.db.mw_constants module</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014-2018, Jakub Klinkovský.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/ws/ws.db.execution.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/lahwaacz/wiki-scripts" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>